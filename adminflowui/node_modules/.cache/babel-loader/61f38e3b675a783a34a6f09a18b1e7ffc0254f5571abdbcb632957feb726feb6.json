{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport ElementPlus from 'element-plus';\nimport 'element-plus/dist/index.css';\nimport * as ElementPlusIconsVue from '@element-plus/icons-vue';\nimport request from \"@/util/requestUtil\";\nimport { addRoutes } from \"@/util/routeUtils\";\nconst app = createApp(App);\napp.use(store).use(router).use(ElementPlus).mount('#app');\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\n  app.component(key, component);\n}\nrouter.beforeEach((to, from, next) => {\n  if (to.path === '/') {\n    next();\n  } else {\n    if (sessionStorage.getItem(\"user\") == null) {\n      next('/');\n    } else if (store.state.menus.length === 0) {\n      let user = JSON.parse(sessionStorage.getItem(\"user\"));\n      request.initMenu(user.id).then(resp => {\n        //固定调用 mutations里面的getMenu\n        store.commit(\"getMenu\", resp.data);\n        const b = addRoutes(resp.data);\n        router.addRoute(b);\n      });\n      next();\n    } else {\n      next();\n    }\n  }\n});","map":{"version":3,"names":["createApp","App","router","store","ElementPlus","ElementPlusIconsVue","request","addRoutes","app","use","mount","key","component","Object","entries","beforeEach","to","from","next","path","sessionStorage","getItem","state","menus","length","user","JSON","parse","initMenu","id","then","resp","commit","data","b","addRoute"],"sources":["D:/everything/项目/adminflow/src/main.js"],"sourcesContent":["import {createApp} from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport ElementPlus from 'element-plus'\r\nimport 'element-plus/dist/index.css'\r\nimport * as ElementPlusIconsVue from '@element-plus/icons-vue'\r\nimport request from \"@/util/requestUtil\";\r\nimport {addRoutes} from \"@/util/routeUtils\";\r\n\r\nconst app = createApp(App)\r\n\r\n\r\napp.use(store).use(router).use(ElementPlus).mount('#app')\r\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\r\n    app.component(key, component)\r\n}\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    if (to.path === '/') {\r\n        next();\r\n    } else {\r\n        if (sessionStorage.getItem(\"user\") == null) {\r\n            next('/');\r\n        } else if (store.state.menus.length === 0) {\r\n            let user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n            request.initMenu(user.id).then(resp => {\r\n                //固定调用 mutations里面的getMenu\r\n                store.commit(\"getMenu\", resp.data);\r\n                const b = addRoutes(resp.data);\r\n                router.addRoute(b);\r\n            })\r\n            next();\r\n        } else {\r\n            next();\r\n        }\r\n    }\r\n})"],"mappings":"AAAA,SAAQA,SAAS,QAAO,KAAK;AAC7B,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,WAAW,MAAM,cAAc;AACtC,OAAO,6BAA6B;AACpC,OAAO,KAAKC,mBAAmB,MAAM,yBAAyB;AAC9D,OAAOC,OAAO,MAAM,oBAAoB;AACxC,SAAQC,SAAS,QAAO,mBAAmB;AAE3C,MAAMC,GAAG,GAAGR,SAAS,CAACC,GAAG,CAAC;AAG1BO,GAAG,CAACC,GAAG,CAACN,KAAK,CAAC,CAACM,GAAG,CAACP,MAAM,CAAC,CAACO,GAAG,CAACL,WAAW,CAAC,CAACM,KAAK,CAAC,MAAM,CAAC;AACzD,KAAK,MAAM,CAACC,GAAG,EAAEC,SAAS,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACT,mBAAmB,CAAC,EAAE;EAChEG,GAAG,CAACI,SAAS,CAACD,GAAG,EAAEC,SAAS,CAAC;AACjC;AAEAV,MAAM,CAACa,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,IAAIF,EAAE,CAACG,IAAI,KAAK,GAAG,EAAE;IACjBD,IAAI,CAAC,CAAC;EACV,CAAC,MAAM;IACH,IAAIE,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE;MACxCH,IAAI,CAAC,GAAG,CAAC;IACb,CAAC,MAAM,IAAIf,KAAK,CAACmB,KAAK,CAACC,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE;MACvC,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACP,cAAc,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MACrDf,OAAO,CAACsB,QAAQ,CAACH,IAAI,CAACI,EAAE,CAAC,CAACC,IAAI,CAACC,IAAI,IAAI;QACnC;QACA5B,KAAK,CAAC6B,MAAM,CAAC,SAAS,EAAED,IAAI,CAACE,IAAI,CAAC;QAClC,MAAMC,CAAC,GAAG3B,SAAS,CAACwB,IAAI,CAACE,IAAI,CAAC;QAC9B/B,MAAM,CAACiC,QAAQ,CAACD,CAAC,CAAC;MACtB,CAAC,CAAC;MACFhB,IAAI,CAAC,CAAC;IACV,CAAC,MAAM;MACHA,IAAI,CAAC,CAAC;IACV;EACJ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}