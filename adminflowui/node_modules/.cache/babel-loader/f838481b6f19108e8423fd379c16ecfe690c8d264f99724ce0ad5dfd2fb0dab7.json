{"ast":null,"code":"import request from \"@/util/requestUtil\";\nexport default {\n  name: 'LogSet',\n  data() {\n    return {\n      LogData: null,\n      total: null,\n      keyword: '',\n      offset: 1,\n      pageSize: 10,\n      options: [{\n        value: '用户登录',\n        label: '用户登录'\n      }, {\n        value: '退出登录',\n        label: '退出登录'\n      }]\n    };\n  },\n  methods: {\n    // 初始化日期数据\n    initLogData(keyword, offset, pageSize) {\n      request.initLogData(keyword, offset, pageSize).then(resp => {\n        if (resp) {\n          this.LogData = resp.data.operationData;\n          this.total = resp.data.total;\n        }\n      });\n    },\n    // 每页展示条数改变\n    handleSizeChange(size) {\n      this.initLogData(this.keyword, this.offset, size);\n    },\n    handleCurrentChange(offset) {\n      this.initLogData(this.keyword, offset, this.pageSize);\n    }\n  },\n  mounted() {\n    this.initLogData(this.keyword, this.offset, this.pageSize);\n  },\n  watch: {\n    keyword(newValue, oldValue) {\n      if (newValue === '') {\n        console.log('---');\n      }\n    }\n  }\n};","map":{"version":3,"names":["request","name","data","LogData","total","keyword","offset","pageSize","options","value","label","methods","initLogData","then","resp","operationData","handleSizeChange","size","handleCurrentChange","mounted","watch","newValue","oldValue","console","log"],"sources":["/Users/pt/Documents/code/adminflowui/src/components/log/LogSet.vue"],"sourcesContent":["<template>\n  <div style=\"margin-top: 20px\">\n    <el-row :gutter=\"5\">\n      <el-col :span=\"8\">\n        <el-select\n            v-model=\"keyword\"\n            :clearable=\"true\"\n            placeholder=\"操作类型\"\n            style=\"width: 240px\"\n        >\n          <el-option\n              v-for=\"item in options\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\"\n          />\n        </el-select>\n      </el-col>\n      <el-col :span=\"3\">\n        <el-button type=\"primary\">刷新日志</el-button>\n      </el-col>\n      <el-col :span=\"3\">\n      <el-button type=\"danger\">清空日志</el-button>\n      </el-col>\n    </el-row>\n  </div>\n  <div style=\"margin-top: 20px\">\n    <el-table :data=\"LogData\" style=\"width: 85%\" border>\n      <el-table-column prop=\"id\" label=\"id\" align=\"center\" width=\"100\" />\n      <el-table-column prop=\"user\" label=\"用户名\" align=\"center\" width=\"100\" />\n      <el-table-column prop=\"type\" label=\"操作类型\" align=\"center\" width=\"250\" />\n      <el-table-column prop=\"operation\" label=\"说明\" align=\"center\" width=\"300\" />\n      <el-table-column prop=\"date\" label=\"操作时间\" align=\"center\" width=\"250\"/>\n    </el-table>\n  </div>\n  <div style=\"margin-top: 20px\">\n    <el-pagination\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :small=\"small\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=total\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n    />\n  </div>\n</template>\n<script>\nimport request from \"@/util/requestUtil\";\nexport default {\n  name:'LogSet',\n  data(){\n    return{\n      LogData:null,\n      total:null,\n      keyword:'',\n      offset:1,\n      pageSize:10,\n      options:[\n        {\n          value: '用户登录',\n          label: '用户登录',\n        },\n        {\n          value: '退出登录',\n          label: '退出登录',\n        }]\n    }\n  },\n  methods:{\n    // 初始化日期数据\n    initLogData(keyword,offset,pageSize){\n      request.initLogData(keyword,offset,pageSize).then(resp=>{\n        if(resp){\n          this.LogData=resp.data.operationData;\n          this.total=resp.data.total;\n        }\n      })\n    },\n    // 每页展示条数改变\n    handleSizeChange(size){\n      this.initLogData(this.keyword,this.offset,size);\n    },\n    handleCurrentChange(offset){\n      this.initLogData(this.keyword,offset,this.pageSize);\n    }\n  },\n  mounted() {\n    this.initLogData(this.keyword,this.offset,this.pageSize);\n  },\n  watch:{\n    keyword(newValue,oldValue){\n      if(newValue===''){\n        console.log('---');\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"AA+CA,OAAOA,OAAM,MAAO,oBAAoB;AACxC,eAAe;EACbC,IAAI,EAAC,QAAQ;EACbC,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJC,OAAO,EAAC,IAAI;MACZC,KAAK,EAAC,IAAI;MACVC,OAAO,EAAC,EAAE;MACVC,MAAM,EAAC,CAAC;MACRC,QAAQ,EAAC,EAAE;MACXC,OAAO,EAAC,CACN;QACEC,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE;MACT,CAAC,EACD;QACED,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE;MACT,CAAC;IACL;EACF,CAAC;EACDC,OAAO,EAAC;IACN;IACAC,WAAWA,CAACP,OAAO,EAACC,MAAM,EAACC,QAAQ,EAAC;MAClCP,OAAO,CAACY,WAAW,CAACP,OAAO,EAACC,MAAM,EAACC,QAAQ,CAAC,CAACM,IAAI,CAACC,IAAI,IAAE;QACtD,IAAGA,IAAI,EAAC;UACN,IAAI,CAACX,OAAO,GAACW,IAAI,CAACZ,IAAI,CAACa,aAAa;UACpC,IAAI,CAACX,KAAK,GAACU,IAAI,CAACZ,IAAI,CAACE,KAAK;QAC5B;MACF,CAAC;IACH,CAAC;IACD;IACAY,gBAAgBA,CAACC,IAAI,EAAC;MACpB,IAAI,CAACL,WAAW,CAAC,IAAI,CAACP,OAAO,EAAC,IAAI,CAACC,MAAM,EAACW,IAAI,CAAC;IACjD,CAAC;IACDC,mBAAmBA,CAACZ,MAAM,EAAC;MACzB,IAAI,CAACM,WAAW,CAAC,IAAI,CAACP,OAAO,EAACC,MAAM,EAAC,IAAI,CAACC,QAAQ,CAAC;IACrD;EACF,CAAC;EACDY,OAAOA,CAAA,EAAG;IACR,IAAI,CAACP,WAAW,CAAC,IAAI,CAACP,OAAO,EAAC,IAAI,CAACC,MAAM,EAAC,IAAI,CAACC,QAAQ,CAAC;EAC1D,CAAC;EACDa,KAAK,EAAC;IACJf,OAAOA,CAACgB,QAAQ,EAACC,QAAQ,EAAC;MACxB,IAAGD,QAAQ,KAAG,EAAE,EAAC;QACfE,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;MACpB;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}