{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-241245df\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"common-layout\",\n  style: {\n    \"margin-top\": \"25px\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"border-bottom\": \"1px solid\",\n    \"text-align\": \"center\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h4\", null, \"角色管理\")], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"container\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"权限设置\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"margin\": \"15px 0\"\n  }\n}, null, -1 /* HOISTED */));\nconst _hoisted_6 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"end\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Setting = _resolveComponent(\"Setting\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_aside = _resolveComponent(\"el-aside\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_Plus = _resolveComponent(\"Plus\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_el_checkbox = _resolveComponent(\"el-checkbox\");\n  const _component_el_checkbox_group = _resolveComponent(\"el-checkbox-group\");\n  const _component_el_collapse_item = _resolveComponent(\"el-collapse-item\");\n  const _component_el_collapse = _resolveComponent(\"el-collapse\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_container, {\n    class: \"shadow-box\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_aside, {\n      width: \"200px\"\n    }, {\n      default: _withCtx(() => [_hoisted_2, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.roles, (item, index) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          class: \"tag-container\",\n          key: index\n        }, [_createVNode(_component_el_tag, {\n          size: \"large\",\n          class: \"custom-tag\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(item.nameZh) + \" \", 1 /* TEXT */), _createVNode(_component_el_dropdown, {\n            size: \"small\",\n            trigger: \"hover\"\n          }, {\n            dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n              default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n                onClick: $event => $options.updateRole(item)\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"编辑\")]),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_dropdown_item, {\n                onClick: $event => $options.DeleteRole(index)\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"删除\")]),\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n              _: 2 /* DYNAMIC */\n            }, 1024 /* DYNAMIC_SLOTS */)]),\n\n            default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [_createVNode(_component_Setting)]),\n              _: 1 /* STABLE */\n            })]),\n\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)]),\n\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_container, null, {\n      default: _withCtx(() => [_createVNode(_component_el_header, null, {\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_input, {\n          placeholder: \"请输入角色英文\",\n          style: {\n            \"width\": \"200px\"\n          },\n          type: \"text\"\n        }, {\n          prepend: _withCtx(() => [_createTextVNode(\"role_\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_el_input, {\n          placeholder: \"请输入角色中文名称\",\n          style: {\n            \"width\": \"200px\",\n            \"margin-left\": \"20px\"\n          },\n          type: \"text\"\n        }), _createVNode(_component_el_button, {\n          style: {\n            \"margin-left\": \"20px\"\n          },\n          type: \"primary\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"添加角色 \"), _createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode(_component_Plus)]),\n            _: 1 /* STABLE */\n          })]),\n\n          _: 1 /* STABLE */\n        })])]),\n\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_main, null, {\n        default: _withCtx(() => [_createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.roles, (item, index) => {\n          return _openBlock(), _createBlock(_component_el_collapse, {\n            accordion: \"\",\n            modelValue: $data.activeNames,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.activeNames = $event),\n            key: index\n          }, {\n            default: _withCtx(() => [_createVNode(_component_el_collapse_item, {\n              title: item.nameZh,\n              onClick: $event => $options.changeItem(item)\n            }, {\n              default: _withCtx(() => [_createElementVNode(\"div\", null, [_hoisted_4, _createCommentVNode(\"                这里是所有权限\"), _createVNode(_component_el_checkbox, {\n                indeterminate: $data.isIndeterminate,\n                modelValue: $data.checkAll,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.checkAll = $event),\n                onChange: _ctx.handleCheckAllChange\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"全选 \")]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"indeterminate\", \"modelValue\", \"onChange\"]), _hoisted_5, _createVNode(_component_el_checkbox_group, {\n                modelValue: $data.checked,\n                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.checked = $event),\n                onChange: _ctx.handleCheckedCitiesChange\n              }, {\n                default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.Permissions, (item, index) => {\n                  return _openBlock(), _createBlock(_component_el_checkbox, {\n                    label: item.describe,\n                    key: index\n                  }, {\n                    default: _withCtx(() => [_createTextVNode(_toDisplayString(item.describe), 1 /* TEXT */)]),\n\n                    _: 2 /* DYNAMIC */\n                  }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"label\"]);\n                }), 128 /* KEYED_FRAGMENT */))]),\n\n                _: 2 /* DYNAMIC */\n              }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"modelValue\", \"onChange\"])]), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_button, {\n                size: \"small\",\n                type: \"default\"\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"取消\")]),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_el_button, {\n                size: \"small\",\n                type: \"primary\",\n                onClick: $options.updatePermission\n              }, {\n                default: _withCtx(() => [_createTextVNode(\"保存\")]),\n                _: 1 /* STABLE */\n              }, 8 /* PROPS */, [\"onClick\"])])]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"title\", \"onClick\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"modelValue\"]);\n        }), 128 /* KEYED_FRAGMENT */))])]),\n\n        _: 1 /* STABLE */\n      })]),\n\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_el_container","_component_el_aside","width","_hoisted_2","_Fragment","_renderList","$data","roles","item","index","key","_component_el_tag","size","nameZh","_component_el_dropdown","trigger","dropdown","_withCtx","_component_el_dropdown_menu","_component_el_dropdown_item","onClick","$event","$options","updateRole","DeleteRole","_component_el_icon","_component_Setting","_component_el_header","_hoisted_3","_component_el_input","placeholder","type","prepend","_component_el_button","_component_Plus","_component_el_main","_createBlock","_component_el_collapse","accordion","activeNames","_component_el_collapse_item","title","changeItem","_hoisted_4","_createCommentVNode","_component_el_checkbox","indeterminate","isIndeterminate","checkAll","onChange","_ctx","handleCheckAllChange","_hoisted_5","_component_el_checkbox_group","checked","handleCheckedCitiesChange","Permissions","label","describe","_hoisted_6","updatePermission"],"sources":["/Users/pt/Documents/code/adminflowui/src/components/set/RoleSet.vue"],"sourcesContent":["<template>\n  <div class=\"common-layout\" style=\"margin-top: 25px\">\n    <el-container class=\"shadow-box\">\n      <el-aside width=\"200px\">\n        <div style=\"border-bottom: 1px solid;text-align: center\">\n          <h4>角色管理</h4>\n        </div>\n        <div class=\"tag-container\" v-for=\"(item,index) in roles\" :key=\"index\">\n          <el-tag size=\"large\" class=\"custom-tag\">{{ item.nameZh }}\n            <el-dropdown size=\"small\" trigger=\"hover\">\n              <el-icon>\n                <Setting/>\n              </el-icon>\n              <template #dropdown>\n                <el-dropdown-menu>\n                  <el-dropdown-item @click=\"updateRole(item)\">编辑</el-dropdown-item>\n                  <el-dropdown-item @click=\"DeleteRole(index)\">删除</el-dropdown-item>\n                </el-dropdown-menu>\n              </template>\n            </el-dropdown>\n          </el-tag>\n        </div>\n      </el-aside>\n      <el-container>\n        <el-header>\n          <div class=\"container\">\n            <el-input placeholder=\"请输入角色英文\" style=\"width: 200px\" type=\"text\">\n              <template #prepend>role_</template>\n            </el-input>\n            <el-input placeholder=\"请输入角色中文名称\" style=\"width: 200px;margin-left: 20px\" type=\"text\">\n            </el-input>\n            <el-button style=\"margin-left: 20px\" type=\"primary\">添加角色\n              <el-icon>\n                <Plus/>\n              </el-icon>\n            </el-button>\n          </div>\n        </el-header>\n        <el-main>\n          <div>\n            <el-collapse accordion v-model=\"activeNames\" v-for=\"(item,index) in roles\" :key=\"index\">\n              <el-collapse-item :title=\"item.nameZh\" @click=\"changeItem(item)\">\n                <div>\n                  <span>权限设置</span>\n                  <!--                这里是所有权限-->\n                  <el-checkbox :indeterminate=\"isIndeterminate\" v-model=\"checkAll\" @change=\"handleCheckAllChange\">全选\n                  </el-checkbox>\n                  <div style=\"margin: 15px 0;\"></div>\n                  <el-checkbox-group v-model=\"checked\" @change=\"handleCheckedCitiesChange\">\n                    <el-checkbox v-for=\"(item,index) in Permissions\" :label=\"item.describe\" :key=\"index\">\n                      {{ item.describe }}\n                    </el-checkbox>\n                  </el-checkbox-group>\n                </div>\n                <div style=\"display: flex;justify-content: end\">\n                  <el-button size=\"small\" type=\"default\">取消</el-button>\n                  <el-button size=\"small\" type=\"primary\" @click=\"updatePermission\">保存</el-button>\n                </div>\n              </el-collapse-item>\n            </el-collapse>\n          </div>\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport request from \"@/util/requestUtil\";\n\nexport default {\n  name: 'RoleSet',\n  data() {\n    return {\n      roles: [], // 所有角色数组\n      Permissions: [], //所有权限数组\n      activeNames: -1,\n      checkAll: false,\n      isIndeterminate: true,\n      checked: [], //复选框选中的值\n    }\n  },\n  methods: {\n    // 切换手风琴时\n    changeItem(item) {\n      request.getPermissionByRole(item.id).then(resp => {\n        if (resp.data != null) {\n          this.checked = resp.data;\n        }\n      })\n    },\n    // 获取所有角色\n    getAllRoles() {\n      request.getAllRoles().then(resp => {\n        if (resp.data != null) {\n          this.roles = resp.data;\n        }\n      })\n    },\n    // 编辑角色\n    updateRole(data) {\n      console.log(data);\n    },\n    // 删除角色\n    DeleteRole(data) {\n      console.log(data);\n    },\n    // 获取所有权限\n    initAllPermission() {\n      request.getAllPermission().then(resp => {\n        if (resp.data != null) {\n          this.Permissions = resp.data;\n        }\n\n      })\n    },\n    // 修改权限\n    updatePermission() {\n      console.log(this.checked);\n    }\n  },\n  mounted() {\n    this.getAllRoles();\n    this.initAllPermission();\n  }\n}\n\n</script>\n\n<style scoped>\n.shadow-box {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4); /* 设置阴影效果 */\n  border: 1px solid #ccc; /* 设置边框 */\n  padding: 20px; /* 设置内边距，可根据需要进行调整 */\n}\n\n.tag-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.custom-tag {\n  border: none;\n  background-color: #ffffff; /* 修改为你想要的颜色值 */\n  font-size: 14px; /* 修改为你想要的字体大小 */\n  color: black;\n  text-align: left;\n}\n\n.container {\n  display: flex;\n}\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}