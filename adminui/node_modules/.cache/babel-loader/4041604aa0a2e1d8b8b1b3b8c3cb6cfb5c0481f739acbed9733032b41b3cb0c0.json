{"ast":null,"code":"import request from \"@/util/requestUtil\";\nimport { ElMessage, ElMessageBox } from \"element-plus\";\nexport default {\n  name: 'UseSet',\n  data() {\n    return {\n      tree: [],\n      userData: [],\n      defaultProps: {\n        label: 'name',\n        children: 'children'\n      }\n    };\n  },\n  methods: {\n    // 初始化组织架构节点\n    initOrganization() {\n      request.initOrganization().then(resp => {\n        if (resp.data) {\n          this.tree = resp.data;\n        }\n      });\n    },\n    // 初始化所有用户信息\n    initAllUser() {\n      request.initAllUser().then(resp => {\n        if (resp.data) {\n          this.userData = resp.data;\n        }\n      });\n    },\n    // 添加组织\n    add(data) {},\n    // 删除组织\n    Delete(data) {\n      if (data.children.length > 0) {\n        ElMessage.error(\"操作失败，该节点下有子节点\");\n        return;\n      }\n      ElMessageBox.confirm('此操作将永久删除【' + data.name + '】节点，是否继续?', {\n        distinguishCancelAndClose: '确定',\n        confirmButtonText: '取消',\n        cancelButtonText: 'warning'\n      }).then(() => {\n        ElMessage({\n          type: 'info',\n          message: 'Changes saved. Proceeding to a new route.'\n        });\n      }).catch(() => {\n        ElMessage({\n          type: 'info',\n          message: '取消操作'\n        });\n      });\n    }\n  },\n  mounted() {\n    this.initOrganization();\n    this.initAllUser();\n  }\n};","map":{"version":3,"names":["request","ElMessage","ElMessageBox","name","data","tree","userData","defaultProps","label","children","methods","initOrganization","then","resp","initAllUser","add","Delete","length","error","confirm","distinguishCancelAndClose","confirmButtonText","cancelButtonText","type","message","catch","mounted"],"sources":["/Users/pt/Documents/code/adminflowui/src/components/set/UserSet.vue"],"sourcesContent":["<template>\n  <div class=\"common-layout\" style=\"margin-top: 25px\">\n    <el-container class=\"shadow-box\">\n      <el-aside width=\"200px\">\n        <div style=\"border-bottom: 1px solid;text-align: center\">\n          <h4>用户架构</h4>\n        </div>\n        <div style=\"margin-top: 25px\">\n          <el-tree @node-click=\"handleNodeClick\" :default-expand-all=\"true\" :props=\"defaultProps\" :data=\"tree\">\n            <template #default=\"{ node, data }\">\n              <span>{{ node.label }}</span>\n              <el-dropdown size=\"small\" trigger=\"hover\">\n                <el-icon>\n                  <Setting/>\n                </el-icon>\n                <template #dropdown>\n                  <el-dropdown-menu>\n                    <el-dropdown-item @click=\"add(data)\">添加</el-dropdown-item>\n                    <el-dropdown-item @click=\"Delete(data)\">删除</el-dropdown-item>\n                  </el-dropdown-menu>\n                </template>\n              </el-dropdown>\n            </template>\n          </el-tree>\n        </div>\n      </el-aside>\n      <el-container>\n        <el-header>Header</el-header>\n        <el-main>\n          <el-table stripe border style=\"width: 100%\" :data=\"userData\">\n            <el-table-column align=\"center\" prop=\"id\" label=\"id\" width=\"90\"/>\n            <el-table-column align=\"center\" prop=\"username\" label=\"姓名\" width=\"90\"/>\n            <el-table-column align=\"center\" prop=\"address\" label=\"地址\" width=\"90\"/>\n            <el-table-column align=\"center\" prop=\"organization.name\" label=\"所属节点\" width=\"90\"/>\n            <el-table-column align=\"center\" label=\"头像\" width=\"100\">\n              <template #default=\"scope\">\n                <el-avatar size=\"small\" :src=\"scope.row.userFace\"/>\n              </template>\n            </el-table-column>\n            <el-table-column align=\"center\" prop=\"embod\" label=\"个性签名\" width=\"180\"/>\n            <el-table-column align=\"center\" label=\"状态\" width=\"90\">\n              <template #default=\"scope\">\n                <el-tag type=\"success\" v-if=\"scope.row.state\">启用</el-tag>\n                <el-tag type=\"danger\" v-else>禁用</el-tag>\n              </template>\n            </el-table-column>\n            <el-table-column align=\"center\" prop=\"email\" label=\"邮箱\" width=\"150\"/>\n          </el-table>\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n<script>\nimport request from \"@/util/requestUtil\";\nimport {ElMessage, ElMessageBox} from \"element-plus\";\n\nexport default {\n  name: 'UseSet',\n  data() {\n    return {\n      tree: [],\n      userData: [],\n      defaultProps: {\n        label: 'name',\n        children: 'children',\n      }\n    }\n  },\n  methods: {\n    // 初始化组织架构节点\n    initOrganization() {\n      request.initOrganization().then(resp => {\n        if (resp.data) {\n          this.tree = resp.data;\n        }\n      })\n    },\n    // 初始化所有用户信息\n    initAllUser() {\n      request.initAllUser().then(resp => {\n        if (resp.data) {\n          this.userData = resp.data;\n        }\n      })\n    },\n    // 添加组织\n    add(data) {\n    },\n    // 删除组织\n    Delete(data) {\n      if (data.children.length > 0) {\n        ElMessage.error(\"操作失败，该节点下有子节点\");\n        return;\n      }\n      ElMessageBox.confirm(\n          '此操作将永久删除【'+data.name+'】节点，是否继续?',\n          {\n            distinguishCancelAndClose: '确定',\n            confirmButtonText: '取消',\n            cancelButtonText: 'warning',\n          }\n      )\n          .then(() => {\n            ElMessage({\n              type: 'info',\n              message: 'Changes saved. Proceeding to a new route.',\n            })\n          })\n          .catch(() => {\n            ElMessage({\n              type: 'info',\n              message:'取消操作'\n            })\n          })\n\n    }\n  },\n  mounted() {\n    this.initOrganization();\n    this.initAllUser();\n  }\n}\n</script>\n\n<style scoped>\n.shadow-box {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4); /* 设置阴影效果 */\n  border: 1px solid #ccc; /* 设置边框 */\n  padding: 20px; /* 设置内边距，可根据需要进行调整 */\n}\n</style>"],"mappings":"AAsDA,OAAOA,OAAM,MAAO,oBAAoB;AACxC,SAAQC,SAAS,EAAEC,YAAY,QAAO,cAAc;AAEpD,eAAe;EACbC,IAAI,EAAE,QAAQ;EACdC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE;QACZC,KAAK,EAAE,MAAM;QACbC,QAAQ,EAAE;MACZ;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,gBAAgBA,CAAA,EAAG;MACjBX,OAAO,CAACW,gBAAgB,CAAC,CAAC,CAACC,IAAI,CAACC,IAAG,IAAK;QACtC,IAAIA,IAAI,CAACT,IAAI,EAAE;UACb,IAAI,CAACC,IAAG,GAAIQ,IAAI,CAACT,IAAI;QACvB;MACF,CAAC;IACH,CAAC;IACD;IACAU,WAAWA,CAAA,EAAG;MACZd,OAAO,CAACc,WAAW,CAAC,CAAC,CAACF,IAAI,CAACC,IAAG,IAAK;QACjC,IAAIA,IAAI,CAACT,IAAI,EAAE;UACb,IAAI,CAACE,QAAO,GAAIO,IAAI,CAACT,IAAI;QAC3B;MACF,CAAC;IACH,CAAC;IACD;IACAW,GAAGA,CAACX,IAAI,EAAE,CACV,CAAC;IACD;IACAY,MAAMA,CAACZ,IAAI,EAAE;MACX,IAAIA,IAAI,CAACK,QAAQ,CAACQ,MAAK,GAAI,CAAC,EAAE;QAC5BhB,SAAS,CAACiB,KAAK,CAAC,eAAe,CAAC;QAChC;MACF;MACAhB,YAAY,CAACiB,OAAO,CAChB,WAAW,GAACf,IAAI,CAACD,IAAI,GAAC,WAAW,EACjC;QACEiB,yBAAyB,EAAE,IAAI;QAC/BC,iBAAiB,EAAE,IAAI;QACvBC,gBAAgB,EAAE;MACpB,CACJ,EACKV,IAAI,CAAC,MAAM;QACVX,SAAS,CAAC;UACRsB,IAAI,EAAE,MAAM;UACZC,OAAO,EAAE;QACX,CAAC;MACH,CAAC,EACAC,KAAK,CAAC,MAAM;QACXxB,SAAS,CAAC;UACRsB,IAAI,EAAE,MAAM;UACZC,OAAO,EAAC;QACV,CAAC;MACH,CAAC;IAEP;EACF,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,IAAI,CAACf,gBAAgB,CAAC,CAAC;IACvB,IAAI,CAACG,WAAW,CAAC,CAAC;EACpB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}